"use strict";exports.id=847,exports.ids=[847],exports.modules={20693:(a,b,c)=>{c.d(b,{J:()=>j});var d=c(21124),e=c(38301);c(23312);var f=c(70469),g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let c=(0,f.TL)(`Primitive.${b}`),g=e.forwardRef((a,e)=>{let{asChild:f,...g}=a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,d.jsx)(f?c:b,{...g,ref:e})});return g.displayName=`Primitive.${b}`,{...a,[b]:g}},{}),h=e.forwardRef((a,b)=>(0,d.jsx)(g.label,{...a,ref:b,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));h.displayName="Label";var i=c(87287);function j({className:a,...b}){return(0,d.jsx)(h,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}},25345:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},30509:(a,b,c)=>{c.d(b,{P:()=>v});var d=c(21124),e=c(38301),f=c(35284),g=c(62186),h=c(93758),i=c(20693),j=c(23339);let k=(0,j.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),l=(0,j.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var m=c(87287);function n({className:a,mode:b="single",selected:c,onSelect:g,disabled:h,...i}){let[j,n]=e.useState(new Date),o=(a=>{let b=a.getFullYear(),c=a.getMonth(),d=new Date(b,c,1),e=new Date(b,c+1,0).getDate(),f=d.getDay(),g=[];for(let a=0;a<f;a++)g.push(null);for(let a=1;a<=e;a++)g.push(new Date(b,c,a));return g})(j),p=j.toLocaleDateString("en-US",{month:"long",year:"numeric"});return(0,d.jsx)("div",{className:(0,m.cn)("p-3 border rounded-md",a),...i,children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h2",{className:"font-semibold text-sm",children:p}),(0,d.jsxs)("div",{className:"space-x-1",children:[(0,d.jsx)(f.$,{variant:"outline",className:"h-7 w-7 p-0",onClick:()=>{n(new Date(j.getFullYear(),j.getMonth()-1))},children:(0,d.jsx)(k,{className:"h-4 w-4"})}),(0,d.jsx)(f.$,{variant:"outline",className:"h-7 w-7 p-0",onClick:()=>{n(new Date(j.getFullYear(),j.getMonth()+1))},children:(0,d.jsx)(l,{className:"h-4 w-4"})})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,d.jsx)("div",{className:"text-center text-xs font-semibold py-2",children:a.slice(0,1)},a)),o.map((a,b)=>(0,d.jsx)("button",{onClick:()=>a&&void(!h?.(a)&&g?.(a)),disabled:!a||a&&h?.(a),className:(0,m.cn)("h-8 w-8 text-sm rounded-md hover:bg-primary/10 transition-colors",!a&&"invisible",a&&h?.(a)&&"opacity-50 cursor-not-allowed",!!c&&!!a&&a.toDateString()===c.toDateString()&&"bg-primary text-primary-foreground"),children:a?.getDate()},b))]})]})})}let o=(0,j.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var p=c(25345),q=c(1030),r=c(42378);let s=(0,j.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function t(){let a=(0,r.useRouter)(),b=(0,e.useRef)(0),c=(0,e.useRef)(null);return(0,d.jsx)("button",{onClick:()=>{b.current+=1,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{b.current=0},2e3),3===b.current&&(a.push("/admin/login"),b.current=0)},className:"fixed bottom-6 left-6 p-3 text-amber-600 hover:text-amber-700 transition-colors opacity-70 hover:opacity-100 z-40",title:"Triple-click for admin access","aria-label":"Secret admin button",children:(0,d.jsx)(s,{className:"h-6 w-6"})})}let u=a=>{let b=6e4*a.getTimezoneOffset();return new Date(a.getTime()-b).toISOString().split("T")[0]};function v(){let{t:a,language:b}=(0,q.s)(),[c,j]=(0,e.useState)(1),[m,r]=(0,e.useState)(!1),[s,v]=(0,e.useState)(null),[w,x]=(0,e.useState)([]),[y,z]=(0,e.useState)(null),[A,B]=(0,e.useState)({service:"",date:void 0,time:"",name:"",email:"",phone:"",notes:""}),C=[{id:"Haircut",nameKey:"services.haircut",price:"25€",duration:"45 min"},{id:"Beard Trim",nameKey:"services.beard_trim",price:"15€",duration:"30 min"},{id:"Hair & Beard",nameKey:"services.hair_and_beard",price:"35€",duration:"75 min"},{id:"Styling",nameKey:"services.styling",price:"20€",duration:"15 min"},{id:"Hair Wash",nameKey:"services.hairwash",price:"10€",duration:"15 min"},{id:"Combo",nameKey:"services.combo",price:"50€",duration:"90 min"}],D=async a=>{if(B({...A,date:a,time:""}),a){let b=u(a);try{let a=await fetch(`/api/bookings/availability?date=${b}`);if(a.ok){let b=await a.json();x(b.bookedTimes||[])}}catch(a){console.error("Failed to fetch availability:",a)}}},E=async()=>{r(!0),v(null);try{let a=A.date?u(A.date):void 0,c=await fetch("/api/bookings/reserve-slot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a,time:A.time})});if(!c.ok){let b=await c.json();v(b.error||"Slot unavailable. Please select another time.");let d=await fetch(`/api/bookings/availability?date=${a}`);if(d.ok){let a=await d.json();x(a.bookedTimes||[])}return}let d=await c.json();z(d.reservedSlot.id);let e=await fetch("/api/booking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:A.service,date:a,time:A.time,name:A.name,email:A.email,phone:A.phone,language:b,notes:A.notes})});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to submit booking")}let f=await e.json();console.log("Booking submitted successfully:",f),j(4)}catch(b){let a=b instanceof Error?b.message:"An error occurred";v(a),console.error("Booking error:",a)}finally{r(!1)}},F=()=>{switch(c){case 1:return!!A.service;case 2:return!!A.date&&!!A.time;case 3:return!!A.name&&!!A.email&&!!A.phone;default:return!1}},G=[{number:1,titleKey:"booking.step1"},{number:2,titleKey:"booking.step2"},{number:3,titleKey:"booking.step3"},{number:4,titleKey:"booking.step4"}];return(0,d.jsxs)("div",{className:"bg-background",children:[(0,d.jsxs)("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-3 gap-0",style:{minHeight:"100vh"},children:[(0,d.jsx)("div",{className:"flex items-center justify-center lg:col-span-1",style:{minHeight:"300px"},children:(0,d.jsx)("div",{className:"w-full rounded-lg overflow-hidden shadow-2xl",style:{backgroundImage:"url(/back1.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",height:"100%",minHeight:"inherit"}})}),(0,d.jsxs)("div",{className:"lg:col-span-2 py-8 px-4",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("div",{className:"flex items-center justify-between mb-4",children:G.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center flex-1",children:[(0,d.jsx)("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${c>=a.number?"bg-primary border-primary text-primary-foreground":"border-border text-muted-foreground"}`,children:c>a.number?(0,d.jsx)(o,{className:"h-5 w-5"}):(0,d.jsx)("span",{children:a.number})}),b<G.length-1&&(0,d.jsx)("div",{className:`flex-1 h-0.5 mx-2 transition-colors ${c>a.number?"bg-primary":"bg-border"}`})]},a.number))}),(0,d.jsx)("div",{className:"flex justify-between text-sm",children:G.map(b=>(0,d.jsx)("div",{className:`flex-1 text-center ${c>=b.number?"text-foreground":"text-muted-foreground"}`,children:a(b.titleKey)},b.number))})]}),(0,d.jsxs)(g.Zp,{className:"p-6 sm:p-8 mb-6",children:[1===c&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl sm:text-3xl mb-6",children:a("booking.selectService")}),(0,d.jsx)("div",{className:"grid sm:grid-cols-2 gap-4",children:C.map(b=>(0,d.jsxs)("button",{onClick:()=>B({...A,service:b.id}),className:`p-6 rounded-lg border-2 text-left transition-all hover:border-primary/50 ${A.service===b.id?"border-primary bg-primary/5":"border-border"}`,children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,d.jsx)("h3",{className:"text-lg",children:a(b.nameKey)}),(0,d.jsx)("span",{className:"text-primary text-lg",children:b.price})]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:b.duration})]},b.id))})]}),2===c&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl sm:text-3xl mb-6",children:a("booking.selectDateTime")}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg mb-4",children:a("booking.dateLabel")}),(0,d.jsx)(n,{mode:"single",selected:A.date,onSelect:D,disabled:a=>a<new Date||0===a.getDay(),className:"rounded-md border"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:"text-lg",children:a("booking.timeLabel")}),A.date&&(0,d.jsxs)("button",{onClick:async()=>{let a=A.date?u(A.date):void 0,b=await fetch(`/api/bookings/availability?date=${a}`);b.ok&&x((await b.json()).bookedTimes||[])},className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-slate-100 hover:bg-slate-200 transition",title:"Refresh available times",children:[(0,d.jsx)(p.A,{className:"h-3 w-3"}),"Refresh"]})]}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-2 max-h-96 overflow-y-auto",children:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"].map(a=>{let b=w.includes(a);return(0,d.jsx)("button",{onClick:()=>!b&&void(!w.includes(a)&&(v(null),B({...A,time:a}))),disabled:b||m,className:`py-3 px-4 rounded-lg border-2 transition-all ${b?"border-red-200 bg-red-50 text-red-400 cursor-not-allowed opacity-50":A.time===a?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${m?"cursor-not-allowed":""}`,children:a},a)})})]})]})]}),3===c&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl sm:text-3xl mb-6",children:a("booking.contactDetails")}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(i.J,{htmlFor:"name",children:[a("booking.name")," *"]}),(0,d.jsx)(h.p,{id:"name",value:A.name,onChange:a=>B({...A,name:a.target.value}),placeholder:a("booking.namePlaceholder"),className:"mt-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(i.J,{htmlFor:"email",children:[a("booking.email")," *"]}),(0,d.jsx)(h.p,{id:"email",type:"email",value:A.email,onChange:a=>B({...A,email:a.target.value}),placeholder:a("booking.emailPlaceholder"),className:"mt-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)(i.J,{htmlFor:"phone",children:[a("booking.phone")," *"]}),(0,d.jsx)(h.p,{id:"phone",type:"tel",value:A.phone,onChange:a=>B({...A,phone:a.target.value}),placeholder:a("booking.phonePlaceholder"),className:"mt-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.J,{htmlFor:"notes",children:a("booking.notes")}),(0,d.jsx)("textarea",{id:"notes",value:A.notes,onChange:a=>B({...A,notes:a.target.value}),placeholder:a("booking.notesPlaceholder"),className:"mt-2 w-full p-3 border rounded-lg border-border bg-background focus:outline-none focus:border-primary",rows:4})]})]})]}),4===c&&(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,d.jsx)(o,{className:"h-8 w-8 text-primary"})}),(0,d.jsx)("h2",{className:"text-2xl sm:text-3xl mb-4",children:a("booking.booked")}),(0,d.jsxs)("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:[a("booking.confirmationMessage")," ",(0,d.jsx)("span",{className:"text-foreground",children:A.email})]}),(0,d.jsxs)(g.Zp,{className:"p-6 bg-card/50 text-left max-w-md mx-auto mb-8",children:[(0,d.jsx)("h3",{className:"text-lg mb-4",children:a("booking.details")}),(0,d.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsxs)("span",{className:"text-muted-foreground",children:[a("booking.service"),":"]}),(0,d.jsx)("span",{children:a(C.find(a=>a.id===A.service)?.nameKey||"services.haircut")})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsxs)("span",{className:"text-muted-foreground",children:[a("booking.date"),":"]}),(0,d.jsx)("span",{children:A.date?.toLocaleDateString("en-US")})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsxs)("span",{className:"text-muted-foreground",children:[a("booking.time"),":"]}),(0,d.jsx)("span",{children:A.time})]})]})]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a("booking.cancelMessage")})]})]}),s&&(0,d.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-700 px-4 py-3 rounded-lg mb-4",children:[(0,d.jsx)("p",{className:"font-medium",children:a("booking.error")||"Error"}),(0,d.jsx)("p",{className:"text-sm",children:s})]}),c<4&&(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)(f.$,{variant:"outline",onClick:()=>{c>1&&(j(c-1),v(null))},disabled:1===c||m,className:"gap-2",children:[(0,d.jsx)(k,{className:"h-4 w-4"}),a("booking.back")]}),c<3?(0,d.jsxs)(f.$,{onClick:()=>1!==c||A.service?2!==c||A.date&&A.time?3!==c||A.name&&A.email&&A.phone?void(v(null),c<4&&j(c+1)):void v(a("booking.fillDetailsError")):void v(a("booking.selectDateTimeError")):void v(a("booking.selectServiceError")),disabled:!F()||m,className:"gap-2",children:[a("booking.next"),(0,d.jsx)(l,{className:"h-4 w-4"})]}):(0,d.jsx)(f.$,{onClick:E,disabled:!F()||m,className:"gap-2",children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"animate-spin",children:"⏳"}),a("booking.submitting")||"Submitting..."]}):(0,d.jsxs)(d.Fragment,{children:[a("booking.confirm"),(0,d.jsx)(o,{className:"h-4 w-4"})]})})]})]})]}),(0,d.jsx)(t,{})]})}},44483:(a,b,c)=>{c.d(b,{A:()=>j});var d=c(21124),e=c(47089);let f=(0,c(23339).A)("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var g=c(38301),h=c(35284),i=c(1030);function j({currentPage:a,onNavigate:b}){let[c,j]=(0,g.useState)(!1),{language:k,setLanguage:l,t:m}=(0,i.s)(),n=[{name:m("nav.home"),value:"home"},{name:m("nav.services"),value:"services"},{name:m("nav.booking"),value:"booking"},{name:m("nav.contact"),value:"contact"}];return(0,d.jsx)("nav",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,d.jsx)("button",{onClick:()=>b("home"),className:"text-xl tracking-wider text-primary hover:text-primary/80 transition-colors font-bold",children:"AXA BARBERSHOP"}),(0,d.jsxs)("div",{className:"hidden md:flex items-center gap-8",children:[n.map(c=>(0,d.jsx)("button",{onClick:()=>{console.log("Navigating to:",c.value),b(c.value)},className:`transition-colors ${a===c.value?"text-primary":"text-foreground/70 hover:text-foreground"}`,children:c.name},c.value)),(0,d.jsx)(h.$,{onClick:()=>b("booking"),size:"sm",children:m("nav.booking")}),(0,d.jsxs)("div",{className:"flex gap-2 ml-4 border-l border-border pl-4",children:[(0,d.jsx)("button",{onClick:()=>l("fi"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${"fi"===k?"bg-primary text-primary-foreground":"text-foreground/70 hover:text-foreground"}`,children:"FI"}),(0,d.jsx)("button",{onClick:()=>l("en"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${"en"===k?"bg-primary text-primary-foreground":"text-foreground/70 hover:text-foreground"}`,children:"EN"})]})]}),(0,d.jsx)("button",{className:"md:hidden p-2",onClick:()=>j(!c),children:c?(0,d.jsx)(e.A,{className:"h-6 w-6"}):(0,d.jsx)(f,{className:"h-6 w-6"})})]}),c&&(0,d.jsx)("div",{className:"md:hidden py-4 border-t border-border",children:(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:[n.map(c=>(0,d.jsx)("button",{onClick:()=>{b(c.value),j(!1)},className:`text-left py-2 transition-colors ${a===c.value?"text-primary":"text-foreground/70"}`,children:c.name},c.value)),(0,d.jsx)(h.$,{onClick:()=>{b("booking"),j(!1)},className:"w-full",children:m("nav.booking")}),(0,d.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-border",children:[(0,d.jsx)("button",{onClick:()=>{l("fi"),j(!1)},className:`flex-1 px-3 py-2 rounded font-medium transition-colors ${"fi"===k?"bg-primary text-primary-foreground":"text-foreground/70 hover:text-foreground"}`,children:"Suomi"}),(0,d.jsx)("button",{onClick:()=>{l("en"),j(!1)},className:`flex-1 px-3 py-2 rounded font-medium transition-colors ${"en"===k?"bg-primary text-primary-foreground":"text-foreground/70 hover:text-foreground"}`,children:"English"})]})]})})]})})}},62186:(a,b,c)=>{c.d(b,{Zp:()=>f});var d=c(21124);c(38301);var e=c(87287);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",a),...b})}},93758:(a,b,c)=>{c.d(b,{p:()=>f});var d=c(21124);c(38301);var e=c(87287);function f({className:a,type:b,...c}){return(0,d.jsx)("input",{type:b,"data-slot":"input",className:(0,e.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}}};