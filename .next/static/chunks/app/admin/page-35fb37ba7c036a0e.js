(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1197:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(2821),r=s(75889);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},3998:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var a=s(95155);s(12115);var r=s(46673),l=s(83101),n=s(1197);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:s,size:l,asChild:o=!1,...d}=e,c=o?r.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,n.cn)(i({variant:s,size:l,className:t})),...d})}},30510:(e,t,s)=>{Promise.resolve().then(s.bind(s,61611))},61611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var a=s(95155),r=s(12115),l=s(20063),n=s(85271),i=s(3998),o=s(86948),d=s(85998),c=s(89559),m=s(84926),x=s(71360),u=s(18720),h=s(26265),b=s(80019),f=s(68425),p=s(47734),g=s(73697),j=s(33420),v=s(37665),y=s(18187),N=s(12723),w=s(4035),k=s(69386),C=s(98128),S=s(45990);function A(){let{user:e,session:t,signOut:s,loading:A}=(0,n.A)(),D=(0,l.useRouter)(),[R,T]=(0,r.useState)([]),[I,E]=(0,r.useState)(null),[Z,z]=(0,r.useState)(!1),[B,O]=(0,r.useState)(null),[L,P]=(0,r.useState)("all"),[F,V]=(0,r.useState)(!1),[_,J]=(0,r.useState)(0),W=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{(null==t?void 0:t.access_token)&&E(t.access_token)})()},[t]),(0,r.useEffect)(()=>{I&&K()},[I]),(0,r.useEffect)(()=>{A||e||D.push("/admin/login")},[e,A,D]),(0,r.useEffect)(()=>{let e=null;return W.current={play:()=>{e||(e=new(window.AudioContext||window.webkitAudioContext)),"suspended"===e.state&&e.resume();let t=e.currentTime;for(let s=0;s<4;s++){let a=t+2.3*s;[523.25,659.25,783.99,1046.5].forEach((t,s)=>{let r=e.createOscillator(),l=e.createGain();r.connect(l),l.connect(e.destination),r.type="sine",r.frequency.setValueAtTime(t,a),l.gain.setValueAtTime(0,a),l.gain.linearRampToValueAtTime(.25,a+.05),l.gain.exponentialRampToValueAtTime(.01,a+2),r.start(a),r.stop(a+2)})}for(let s=0;s<4;s++){let a=t+2.3*s,r=e.createOscillator(),l=e.createGain();r.connect(l),l.connect(e.destination),r.type="sine",r.frequency.setValueAtTime(220,a),l.gain.setValueAtTime(.05,a),l.gain.exponentialRampToValueAtTime(.01,a+2),r.start(a),r.stop(a+2)}}},()=>{}},[]),(0,r.useEffect)(()=>{if(e&&R.length>_){console.log("New bookings detected! Previous: ".concat(_,", Current: ").concat(R.length));let e=R[0];try{console.log("Attempting to play bell sound..."),W.current&&"function"==typeof W.current.play?(W.current.play(),console.log("Bell sound played successfully")):console.warn("Audio ref not available or not a function")}catch(e){console.error("Bell sound error:",e)}setTimeout(()=>{u.o.custom(()=>(0,a.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,a.jsxs)("div",{className:"   bg-gradient-to-br from-amber-600 to-amber-700    rounded-3xl p-8 shadow-2xl   border-4 border-amber-400   max-w-lg w-full mx-4   animate-bounce   ",style:{animation:"ring 0.5s ease-in-out infinite"},children:[(0,a.jsx)("style",{children:"\n                  @keyframes ring {\n                    0%, 100% { transform: rotate(0deg) scale(1); }\n                    10% { transform: rotate(-8deg) scale(1.05); }\n                    20% { transform: rotate(8deg) scale(1.05); }\n                    30% { transform: rotate(-8deg) scale(1.05); }\n                    40% { transform: rotate(8deg) scale(1.05); }\n                    50% { transform: rotate(-4deg) scale(1.02); }\n                    60% { transform: rotate(4deg) scale(1.02); }\n                    70% { transform: rotate(-2deg) scale(1.01); }\n                    80% { transform: rotate(2deg) scale(1.01); }\n                    90% { transform: rotate(0deg) scale(1); }\n                  }\n                "}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(d.A,{className:"h-20 w-20 text-yellow-300 animate-bounce mx-auto"})}),(0,a.jsx)("h2",{className:"text-4xl font-bold text-white mb-3",children:"New Booking!"}),(0,a.jsx)("div",{className:"w-full border-t-2 border-amber-400 my-4"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-white mb-2",children:e.name}),(0,a.jsx)("p",{className:"text-lg text-amber-100 mb-4 font-medium",children:e.service}),(0,a.jsxs)("div",{className:"text-base text-amber-50 space-y-2",children:[(0,a.jsxs)("p",{children:["\uD83D\uDCC5 ",new Date(e.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]}),(0,a.jsxs)("p",{children:["⏰ ",e.time]}),e.phone&&(0,a.jsxs)("p",{children:["\uD83D\uDCDE ",e.phone]})]})]})]})}),{duration:7e3,position:"top-center",id:"booking-notification"})},100),J(R.length)}},[R.length,e]),(0,r.useEffect)(()=>{if(!e||!I)return;let t=setInterval(()=>{K()},3e3);return()=>clearInterval(t)},[e,I]);let K=async()=>{if(I)try{let e=await fetch("/api/admin/bookings",{method:"GET",headers:{Authorization:"Bearer ".concat(I)}});if(e.ok){let t=await e.json();T(t)}}catch(e){console.error("Fetch error:",e)}},M=async(e,t)=>{if(I)try{(await fetch("/api/admin/bookings",{method:"PUT",headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json"},body:JSON.stringify({id:e,status:t})})).ok&&T(R.map(s=>s.id===e?{...s,status:t}:s))}catch(e){O("Failed to update booking")}},U=async e=>{if(I&&confirm("Are you sure you want to delete this booking?"))try{(await fetch("/api/admin/bookings?id=".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(I)}})).ok&&T(R.filter(t=>t.id!==e))}catch(e){O("Failed to delete booking")}},$=async()=>{await s(),D.push("/admin/login")},q=async()=>{V(!0),await K(),V(!1)};if(A)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-white text-lg",children:"Loading..."})})});if(!e||!I)return null;let G=R.filter(e=>"all"===L||e.status===L),X={total:R.length,confirmed:R.filter(e=>"confirmed"===e.status).length,completed:R.filter(e=>"completed"===e.status).length,cancelled:R.filter(e=>"cancelled"===e.status).length,completedRevenue:R.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.price||0),0),confirmedRevenue:R.filter(e=>"confirmed"===e.status).reduce((e,t)=>e+(t.price||0),0),cancelledRevenue:R.filter(e=>"cancelled"===e.status).reduce((e,t)=>e+(t.price||0),0)},Y=Object.entries(R.reduce((e,t)=>(e[t.service]=(e[t.service]||0)+1,e),{})).map(e=>{let[t,s]=e;return{name:t,value:s}}),H=Object.entries(R.reduce((e,t)=>{let s=new Date(t.date).toLocaleDateString("en-US",{month:"short",day:"numeric"});return e[s]=(e[s]||0)+1,e},{})).sort((e,t)=>new Date(e[0]).getTime()-new Date(t[0]).getTime()).map(e=>{let[t,s]=e;return{date:t,bookings:s}}),Q=Object.entries(R.reduce((e,t)=>{let s=t.time.split(":")[0];return e[s]=(e[s]||0)+1,e},{})).sort((e,t)=>parseInt(e[0])-parseInt(t[0])).map(e=>{let[t,s]=e;return{time:"".concat(t,":00"),bookings:s}}),ee=[{name:"Confirmed",value:X.confirmed,fill:"#3b82f6"},{name:"Completed",value:X.completed,fill:"#10b981"},{name:"Cancelled",value:X.cancelled,fill:"#ef4444"}].filter(e=>e.value>0),et=Object.entries(R.reduce((e,t)=>{let s=new Date(t.date).toLocaleDateString("en-US",{month:"short",year:"2-digit"});return e[s]=(e[s]||0)+(t.price||0),e},{})).sort((e,t)=>new Date(e[0]).getTime()-new Date(t[0]).getTime()).map(e=>{let[t,s]=e;return{month:t,revenue:Math.round(100*s)/100}});return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Booking Management"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Manage customer reservations"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(i.$,{variant:"outline",onClick:q,disabled:F,className:"border-slate-600 text-slate-200 hover:bg-slate-700",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 ".concat(F?"animate-spin":"")}),"Refresh"]}),(0,a.jsxs)(i.$,{variant:"outline",onClick:$,className:"border-red-500 text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"Logout"]})]})]}),(0,a.jsxs)("div",{className:"mb-6 p-3 bg-green-500/20 border border-green-500/50 rounded-lg flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("p",{className:"text-green-400 text-sm font-medium",children:"Live updates enabled - refreshing every 3 seconds"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-5 gap-4 mb-8",children:[(0,a.jsxs)(o.Zp,{className:"p-6 bg-gradient-to-br from-slate-800 to-slate-700 border-slate-600",children:[(0,a.jsx)("h3",{className:"text-slate-400 text-sm font-medium",children:"Total Bookings"}),(0,a.jsx)("p",{className:"text-4xl font-bold text-white mt-2",children:X.total})]}),(0,a.jsxs)(o.Zp,{className:"p-6 bg-gradient-to-br from-blue-900/50 to-blue-800/50 border-blue-600",children:[(0,a.jsx)("h3",{className:"text-blue-300 text-sm font-medium",children:"Confirmed"}),(0,a.jsx)("p",{className:"text-4xl font-bold text-blue-400 mt-2",children:X.confirmed})]}),(0,a.jsxs)(o.Zp,{className:"p-6 bg-gradient-to-br from-green-900/50 to-green-800/50 border-green-600",children:[(0,a.jsx)("h3",{className:"text-green-300 text-sm font-medium",children:"Completed"}),(0,a.jsx)("p",{className:"text-4xl font-bold text-green-400 mt-2",children:X.completed})]}),(0,a.jsxs)(o.Zp,{className:"p-6 bg-gradient-to-br from-red-900/50 to-red-800/50 border-red-600",children:[(0,a.jsx)("h3",{className:"text-red-300 text-sm font-medium",children:"Cancelled"}),(0,a.jsx)("p",{className:"text-4xl font-bold text-red-400 mt-2",children:X.cancelled})]}),(0,a.jsxs)(o.Zp,{className:"p-6 bg-gradient-to-br from-yellow-900/50 to-yellow-800/50 border-yellow-600",children:[(0,a.jsx)("h3",{className:"text-yellow-300 text-sm font-medium",children:"Completed Revenue"}),(0,a.jsxs)("p",{className:"text-4xl font-bold text-yellow-400 mt-2",children:["€",X.completedRevenue.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[(0,a.jsxs)(o.Zp,{className:"p-6 bg-gradient-to-br from-blue-900/50 to-blue-800/50 border-blue-600",children:[(0,a.jsx)("h3",{className:"text-blue-300 text-sm font-medium",children:"Potential Revenue (Confirmed)"}),(0,a.jsxs)("p",{className:"text-4xl font-bold text-blue-400 mt-2",children:["€",X.confirmedRevenue.toFixed(2)]})]}),(0,a.jsxs)(o.Zp,{className:"p-6 bg-gradient-to-br from-red-900/50 to-red-800/50 border-red-600",children:[(0,a.jsx)("h3",{className:"text-red-300 text-sm font-medium",children:"Cancelled Revenue"}),(0,a.jsxs)("p",{className:"text-4xl font-bold text-red-400 mt-2",children:["€",X.cancelledRevenue.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)(o.Zp,{className:"p-6 bg-slate-800 border-slate-600",children:[(0,a.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Monthly Revenue"}),(0,a.jsx)(h.u,{width:"100%",height:300,children:(0,a.jsxs)(b.b,{data:et,children:[(0,a.jsx)(f.d,{strokeDasharray:"3 3",stroke:"#475569"}),(0,a.jsx)(p.W,{dataKey:"month",stroke:"#94a3b8"}),(0,a.jsx)(g.h,{stroke:"#94a3b8"}),(0,a.jsx)(j.m,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"}}),(0,a.jsx)(v.s,{wrapperStyle:{color:"#94a3b8"}}),(0,a.jsx)(y.N1,{type:"monotone",dataKey:"revenue",stroke:"#eab308",strokeWidth:2,dot:{fill:"#eab308"}})]})})]}),(0,a.jsxs)(o.Zp,{className:"p-6 bg-slate-800 border-slate-600",children:[(0,a.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Service Breakdown"}),(0,a.jsx)(h.u,{width:"100%",height:300,children:(0,a.jsxs)(N.r,{children:[(0,a.jsxs)(w.Fq,{data:Y,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,value:s}=e;return"".concat(t,": ").concat(s)},outerRadius:80,fill:"#8884d8",dataKey:"value",children:[(0,a.jsx)(k.f,{fill:"#3b82f6"}),(0,a.jsx)(k.f,{fill:"#10b981"}),(0,a.jsx)(k.f,{fill:"#f59e0b"}),(0,a.jsx)(k.f,{fill:"#ef4444"}),(0,a.jsx)(k.f,{fill:"#8b5cf6"})]}),(0,a.jsx)(j.m,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"}})]})})]}),(0,a.jsxs)(o.Zp,{className:"p-6 bg-slate-800 border-slate-600",children:[(0,a.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Booking Trends"}),(0,a.jsx)(h.u,{width:"100%",height:300,children:(0,a.jsxs)(C.E,{data:H,children:[(0,a.jsx)(f.d,{strokeDasharray:"3 3",stroke:"#475569"}),(0,a.jsx)(p.W,{dataKey:"date",stroke:"#94a3b8"}),(0,a.jsx)(g.h,{stroke:"#94a3b8"}),(0,a.jsx)(j.m,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"}}),(0,a.jsx)(S.yP,{dataKey:"bookings",fill:"#3b82f6"})]})})]}),(0,a.jsxs)(o.Zp,{className:"p-6 bg-slate-800 border-slate-600",children:[(0,a.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Status Distribution"}),(0,a.jsx)(h.u,{width:"100%",height:300,children:(0,a.jsxs)(N.r,{children:[(0,a.jsx)(w.Fq,{data:ee,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,value:s}=e;return"".concat(t,": ").concat(s)},outerRadius:80,fill:"#8884d8",dataKey:"value",children:ee.map((e,t)=>(0,a.jsx)(k.f,{fill:e.fill},"cell-".concat(t)))}),(0,a.jsx)(j.m,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"}})]})})]}),(0,a.jsxs)(o.Zp,{className:"p-6 bg-slate-800 border-slate-600 md:col-span-2",children:[(0,a.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Peak Booking Hours"}),(0,a.jsx)(h.u,{width:"100%",height:300,children:(0,a.jsxs)(C.E,{data:Q,children:[(0,a.jsx)(f.d,{strokeDasharray:"3 3",stroke:"#475569"}),(0,a.jsx)(p.W,{dataKey:"time",stroke:"#94a3b8"}),(0,a.jsx)(g.h,{stroke:"#94a3b8"}),(0,a.jsx)(j.m,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"}}),(0,a.jsx)(S.yP,{dataKey:"bookings",fill:"#10b981"})]})})]})]}),(0,a.jsx)("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","confirmed","completed","cancelled"].map(e=>(0,a.jsx)(i.$,{variant:L===e?"default":"outline",onClick:()=>P(e),className:"capitalize font-semibold ".concat(L===e?"bg-amber-600 hover:bg-amber-700 text-white border-amber-600":"border-slate-600 text-slate-300 hover:bg-slate-700"),children:e},e))}),(0,a.jsx)(o.Zp,{className:"overflow-hidden bg-slate-800 border-slate-600",children:0===G.length?(0,a.jsx)("div",{className:"p-12 text-center text-slate-400",children:(0,a.jsx)("p",{className:"text-lg",children:"No bookings found"})}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-slate-900 border-b border-slate-600",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-200",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-200",children:"Time"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-200",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-200",children:"Service"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-200",children:"Phone"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-200",children:"Notes"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-200",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-200",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:G.map(e=>(0,a.jsxs)("tr",{className:"border-b border-slate-600 hover:bg-slate-700/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-slate-200",children:new Date(e.date).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-slate-200",children:e.time}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-slate-100",children:e.name}),(0,a.jsx)("p",{className:"text-slate-400",children:e.email})]})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-slate-200",children:e.service}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-slate-200",children:e.phone}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.notes?(0,a.jsx)("span",{className:"bg-slate-700/50 px-3 py-1 rounded text-xs max-w-xs truncate block",title:e.notes,children:e.notes}):(0,a.jsx)("span",{className:"text-slate-500 italic",children:"-"})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("select",{value:e.status,onChange:t=>M(e.id,t.target.value),className:"px-3 py-2 rounded-lg border text-sm font-medium transition-all ".concat((e=>{switch(e){case"confirmed":return"bg-blue-100 text-blue-800 border-blue-300";case"completed":return"bg-green-100 text-green-800 border-green-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";default:return"bg-slate-100 text-slate-800 border-slate-300"}})(e.status)," bg-slate-700 cursor-pointer"),children:[(0,a.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>U(e.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})})]},e.id))})]})})})]})})}function D(){let e=(0,l.useRouter)(),{user:t,loading:s}=(0,n.A)();return((0,r.useEffect)(()=>{s||t||e.push("/admin/login")},[t,s,e]),s)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white",children:"Loading..."})}):t?(0,a.jsx)("div",{children:(0,a.jsx)(A,{})}):null}},85271:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>i,A:()=>o});var a=s(95155),r=s(12115);let l=(0,s(92373).UU)("https://pqgbtrphaazzltuetclv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBxZ2J0cnBoYWF6emx0dWV0Y2x2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0NDIyMTIsImV4cCI6MjA4NDAxODIxMn0.ng7cwu95CvvdRaZiW9V4lNvjasLH11RW8uaAR7hmtw4"),n=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await l.auth.getSession();d(e),i((null==e?void 0:e.user)||null)}catch(e){console.error("Error fetching session:",e)}finally{m(!1)}})();let{data:{subscription:e}}=l.auth.onAuthStateChange((e,t)=>{d(t),i((null==t?void 0:t.user)||null)});return()=>null==e?void 0:e.unsubscribe()},[]);let x=async(e,t)=>{let{data:s,error:a}=await l.auth.signUp({email:e,password:t});if(a)throw a;return s},u=async(e,t)=>{let{data:s,error:a}=await l.auth.signInWithPassword({email:e,password:t});if(a)throw a;return s},h=async()=>{let{error:e}=await l.auth.signOut();if(e)throw e};return(0,a.jsx)(n.Provider,{value:{user:s,session:o,loading:c,signUp:x,signIn:u,signOut:h},children:t})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within AuthProvider");return e}},86948:(e,t,s)=>{"use strict";s.d(t,{Zp:()=>l});var a=s(95155);s(12115);var r=s(1197);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...s})}}},e=>{e.O(0,[938,764,46,441,255,358],()=>e(e.s=30510)),_N_E=e.O()}]);